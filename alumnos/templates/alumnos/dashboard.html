{% extends "base.html" %}
{% block content %}
<div class="container dashboard-section">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="title-main">Panel del Alumno</h2>
        <a href="{% url 'editar_perfil' %}" class="btn btn-edit-profile">
            Editar perfil
        </a>
    </div>

    <p class="subtitle">Bienvenido {{ alumno.nombre_completo }}</p>

    <div class="divider"></div>

    <div class="info-card">
        <h3>Mi información personal</h3>
        <div class="info-row">
            <div class="info-box">
                <label>Nombre completo</label>
                <span>{{ user.first_name }} {{ user.last_name }}</span>
            </div>
            <div class="info-box">
                <label>Usuario</label>
                <span>@{{ user.username }}</span>
            </div>
            <div class="info-box">
                <label>Correo electrónico</label>
                <span>{{ user.email }}</span>
            </div>
            <div class="info-box">
                <label>Fecha de registro</label>
                <span>{{ user.date_joined|date:"d/m/Y" }}</span>
            </div>
        </div>
    </div>

    <div class="info-card">
        <h3>Estado académico</h3>
        <div class="info-row">
            <div class="info-box">
                <label>Escuela</label>
                <span>{{ alumno.escuela }}</span>
            </div>
            <div class="info-box">
                <label>Semestre</label>
                <span>{{ alumno.semestre }}</span>
            </div>
            <div class="info-box">
                <label>Grupo</label>
                <span>{{ alumno.grupo }}</span>
            </div>
            <div class="info-box">
                <label>Especialidad</label>
                <span>{{ alumno.especialidad }}</span>
            </div>
        </div>
    </div>

    <div class="info-card">
        <h3>Mis asesorías</h3>
        {% if asesorias %}
            <div class="asesorias-grid">
                {% for a in asesorias %}
                    <div class="asesoria-card">
                        <h4>{{ a.asesoria.nombre }}</h4>
                        <p><strong>Maestro:</strong> {{ a.asesoria.maestro.nombre }}</p>
                        <p><strong>Asignatura:</strong> {{ a.asesoria.asignatura }}</p>
                        <p><strong>fecha:</strong> {{ a.asesoria.fecha }}</p>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>No estás inscrito en ninguna asesoría.</p>
        {% endif %}
    </div>

</div>
{% endblock %}